/*

Tooltipster 1.2 | 9/15/12
A rockin' custom tooltip jQuery plugin

Developed by: Caleb Jacob - calebjacob.com
Copyright (C) 2012 Caleb Jacob

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

*/

(function(e){e.fn.tooltipster=function(t){function r(t){n.animation=="slide"?e(t).slideUp(n.speed,function(){e(t).remove(),e("body").css("overflow-x","auto")}):e(t).fadeOut(n.speed,function(){e(t).remove(),e("body").css("overflow-x","auto")})}var n=e.extend({animation:"fade",arrow:!0,arrowColor:"",delay:200,fixedWidth:0,followMouse:!1,offsetX:0,offsetY:0,overrideText:"",position:"top",speed:100,timer:0,tooltipTheme:".tooltip-message"},t);return this.hover(function(){e(n.tooltipTheme).not(".tooltip-kill").length==1&&(r(e(n.tooltipTheme).not(".tooltip-kill")),e(n.tooltipTheme).not(".tooltip-kill").addClass("tooltip-kill")),e("body").css("overflow-x","hidden");var t=e(this).attr("title");e(this).attr("title",""),e(this).data("title",t);if(e.trim(n.overrideText).length>0)var t=n.overrideText;if(n.fixedWidth>0)var i=' style="width:'+n.fixedWidth+'px;"';else var i="";e('<div class="'+n.tooltipTheme.replace(".","")+'"'+i+'><div class="tooltip-message-content">'+t+"</div></div>").appendTo("body").hide();if(n.followMouse==0){var s=e(window).width(),o=e(this).outerWidth(!1),u=e(this).outerHeight(!1),a=e(n.tooltipTheme).not(".tooltip-kill").outerWidth(!1),f=e(n.tooltipTheme).not(".tooltip-kill").outerHeight(!1),l=e(this).offset();n.fixedWidth==0&&e(n.tooltipTheme).not(".tooltip-kill").css({width:a+"px","padding-left":"0px","padding-right":"0px"});function c(){var t=e(window).scrollLeft();if(p-t<0){var r=p-t;p=t,e(n.tooltipTheme).not(".tooltip-kill").data("arrow-reposition",r)}if(p+a-t>s){var r=p-(s+t-a);p=s+t-a,e(n.tooltipTheme).not(".tooltip-kill").data("arrow-reposition",r)}}if(n.position=="top"){var h=l.left+a-(l.left+e(this).outerWidth(!1)),p=l.left+n.offsetX-h/2,d=l.top-f-n.offsetY-10;c();if(l.top-f-n.offsetY-11<0)var d=0}if(n.position=="top-left"){var p=l.left+n.offsetX,d=l.top-f-n.offsetY-10;c()}if(n.position=="top-right"){var p=l.left+o+n.offsetX-a,d=l.top-f-n.offsetY-10;c()}if(n.position=="bottom"){var h=l.left+a+n.offsetX-(l.left+e(this).outerWidth(!1)),p=l.left-h/2,d=l.top+u+n.offsetY+10;c()}if(n.position=="bottom-left"){var p=l.left+n.offsetX,d=l.top+u+n.offsetY+10;c()}if(n.position=="bottom-right"){var p=l.left+o+n.offsetX-a,d=l.top+u+n.offsetY+10;c()}if(n.position=="left"){var p=l.left-n.offsetX-a-10,v=l.left+n.offsetX+o+10,m=l.top+f+n.offsetY-(l.top+e(this).outerHeight(!1)),d=l.top-m/2;p<0&&v+a>s&&(p+=a);if(p<0){var p=l.left+n.offsetX+o+10;e(n.tooltipTheme).not(".tooltip-kill").data("arrow-reposition","left")}}if(n.position=="right"){var p=l.left+n.offsetX+o+10,v=l.left-n.offsetX-a-10,m=l.top+f+n.offsetY-(l.top+e(this).outerHeight(!1)),d=l.top-m/2;p+a>s&&v<0&&(p=s-a),p+a>s&&(p=l.left-n.offsetX-a-10,e(n.tooltipTheme).not(".tooltip-kill").data("arrow-reposition","right"))}}if(n.followMouse==1){var a=e(n.tooltipTheme).not(".tooltip-kill").outerWidth(!1),f=e(n.tooltipTheme).not(".tooltip-kill").outerHeight(!1),g=e(n.tooltipTheme).not(".tooltip-kill").find(".tooltip-message-content").html();e(this).mousemove(function(t){e(n.tooltipTheme).not(".tooltip-kill").find(".tooltip-message-content").html("").html(g);var r=e(n.tooltipTheme).not(".tooltip-kill").outerHeight(!1);n.position=="top"&&e(n.tooltipTheme).not(".tooltip-kill").css({left:t.pageX-1-a/2+n.offsetX+"px",top:t.pageY-r-2-n.offsetY-10+"px"}),n.position=="top-right"&&e(n.tooltipTheme).not(".tooltip-kill").css({left:t.pageX-8+n.offsetX+"px",top:t.pageY-r-2-n.offsetY-10+"px"}),n.position=="top-left"&&e(n.tooltipTheme).not(".tooltip-kill").css({left:t.pageX-a+n.offsetX+7+"px",top:t.pageY-r-2-n.offsetY-10+"px"}),n.position=="bottom"&&e(n.tooltipTheme).not(".tooltip-kill").css({left:t.pageX-a/2+n.offsetX-1+"px",top:t.pageY+15+n.offsetY+10+"px"}),n.position=="bottom-right"&&e(n.tooltipTheme).not(".tooltip-kill").css({left:t.pageX-2+n.offsetX+"px",top:t.pageY+15+n.offsetY+10+"px"}),n.position=="bottom-left"&&e(n.tooltipTheme).not(".tooltip-kill").css({left:t.pageX-a+n.offsetX+12+"px",top:t.pageY+15+n.offsetY+10+"px"})})}if(n.arrow==1){var y="tooltip-arrow-"+n.position;if(n.followMouse==1)if(y.search("right")>0){var b=y;y=b.replace("right","left")}else{var b=y;y=b.replace("left","right")}if(y=="tooltip-arrow-right")var w="◀",E="top:"+(f/2-5)+"px";if(y=="tooltip-arrow-left")var w="▶",E="top:"+(f/2-4)+"px";if(y.search("top")>0)var w="▼";if(y.search("bottom")>0)var w="▲";if(n.arrowColor.length<1)var S=e(n.tooltipTheme).not(".tooltip-kill").css("background-color");else var S=n.arrowColor;var x=e(n.tooltipTheme).not(".tooltip-kill").data("arrow-reposition");x?x=="left"?(y="tooltip-arrow-right",w="◀",x=""):x=="right"?(y="tooltip-arrow-left",w="▶",x=""):x="left:"+x+"px;":x="";var T='<div class="'+y+' tooltip-arrow" style="color:'+S+"; width:"+a+"px; display:none; "+x+" "+E+'">'+w+"</div>"}else var T="";e(n.tooltipTheme).not(".tooltip-kill").css({top:d+"px",left:p+"px"}).append(T),n.animation=="slide"?(e(n.tooltipTheme).not(".tooltip-kill").delay(n.delay).slideDown(n.speed,function(){e(".tooltip-arrow").fadeIn(n.speed)}),n.timer>0&&e(n.tooltipTheme).not(".tooltip-kill").delay(n.timer).slideUp(n.speed)):(e(".tooltip-arrow").show(),e(n.tooltipTheme).not(".tooltip-kill").delay(n.delay).fadeIn(n.speed),n.timer>0&&e(n.tooltipTheme).not(".tooltip-kill").delay(n.timer).fadeOut(n.speed))},function(){e(n.tooltipTheme).not(".tooltip-kill").clearQueue(),tooltip_text=e(this).data("title"),e(this).attr("title",tooltip_text),e(n.tooltipTheme).addClass("tooltip-kill"),r(".tooltip-kill")})}})(jQuery);