define(["jQuery","Underscore","Backbone","app","collections/queries","text!templates/queries-list.html"],function(e,t,n,r,i,s){var o=n.View.extend({el:"#term-history",events:{"click a":"setModel"},initialize:function(){this.queriesCollection=new i,this.model.on("change",this.addQuery,this)},addQuery:function(e){this.queriesCollection.push(this.model.clone()),this.render()},setModel:function(t){var n=e(t.currentTarget).data("term"),r=e(t.currentTarget).data("source");this.model.set({term:n,sourceId:r})},template:t.template(s),render:function(){this.$el.html(this.template({queries:this.queriesCollection.toJSON()}))}});return o});